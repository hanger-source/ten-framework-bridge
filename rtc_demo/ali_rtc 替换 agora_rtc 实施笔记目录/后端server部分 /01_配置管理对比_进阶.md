# 配置管理对比 - 2: 后端配置

## Agora RTC 后端配置

```java
@Configuration
public class AgoraConfig {
    @Value("${agora.app.id}")
    private String appId;

    @Value("${agora.app.certificate}")
    private String appCertificate;

    @Bean
    public AgoraTokenService agoraTokenService() {
        return new AgoraTokenService(appId, appCertificate);
    }
}
```

## 阿里云 RTC 后端配置

```java
@Configuration
public class AliConfig {
    @Value("${ali.app.id}")
    private String appId;

    @Value("${ali.app.key}")
    private String appKey;

    @Bean
    public AliTokenService aliTokenService() {
        return new AliTokenService(appId, appKey);
    }
}
```

## 统一后端配置

```java
@Configuration
public class RTCConfig {
    @Value("${rtc.type:agora}")
    private String rtcType;

    @Value("${agora.app.id}")
    private String agoraAppId;

    @Value("${agora.app.certificate}")
    private String agoraAppCertificate;

    @Value("${ali.app.id}")
    private String aliAppId;

    @Value("${ali.app.key}")
    private String aliAppKey;

    @Bean
    public TokenServiceFactory tokenServiceFactory() {
        return new TokenServiceFactory(
            rtcType,
            agoraAppId,
            agoraAppCertificate,
            aliAppId,
            aliAppKey
        );
    }
}
```

## 配置文件差异

**Agora RTC application.properties**:

```properties
agora.app.id=your_agora_app_id
agora.app.certificate=your_agora_certificate
```

**阿里云 RTC application.properties**:

```properties
ali.app.id=your_ali_app_id
ali.app.key=your_ali_app_key
```

**统一 application.properties**:

```properties
rtc.type=agora
agora.app.id=your_agora_app_id
agora.app.certificate=your_agora_certificate
ali.app.id=your_ali_app_id
ali.app.key=your_ali_app_key
```
