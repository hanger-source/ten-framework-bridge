# 类型定义对比 - 2: 事件和错误类型

## Agora RTC 事件类型

```typescript
// Agora RTC 事件类型
type AgoraEventType =
  | "user-joined"
  | "user-left"
  | "user-published"
  | "user-unpublished"
  | "connection-state-change"
  | "network-quality"
  | "error";

// Agora 用户类型
interface AgoraUser {
  uid: string;
  hasAudio: boolean;
  hasVideo: boolean;
}

// Agora 错误类型
interface AgoraError {
  code: string;
  message: string;
  data?: any;
}
```

## 阿里云 RTC 事件类型

```typescript
// 阿里云 RTC 事件类型
type AliEventType =
  | "user-joined"
  | "user-left"
  | "user-published"
  | "user-unpublished"
  | "connection-state-change"
  | "network-quality"
  | "error";

// 阿里云用户类型
interface AliUser {
  uid: string;
  hasAudio: boolean;
  hasVideo: boolean;
}

// 阿里云错误类型
interface AliError {
  code: string;
  message: string;
  data?: any;
}
```

## 统一事件类型定义

```typescript
// 统一事件类型
export type RTCEventType =
  | "user-joined"
  | "user-left"
  | "user-published"
  | "user-unpublished"
  | "connection-state-change"
  | "network-quality"
  | "error";

// 统一用户类型
export interface IRTCUser {
  uid: string;
  hasAudio: boolean;
  hasVideo: boolean;
}

// 统一错误类型
export interface IRTCError {
  code: string;
  message: string;
  data?: any;
}

// 统一网络质量类型
export interface IRTCNetworkQuality {
  downlinkNetworkQuality: number;
  uplinkNetworkQuality: number;
}

// 统一连接状态类型
export type RTCConnectionState =
  | "DISCONNECTED"
  | "CONNECTING"
  | "CONNECTED"
  | "RECONNECTING"
  | "ABORTED";
```

## 事件处理器类型

```typescript
// 事件处理器类型定义
export interface IRTCEventHandlers {
  "user-joined": (user: IRTCUser) => void;
  "user-left": (user: IRTCUser) => void;
  "user-published": (user: IRTCUser, mediaType: string) => void;
  "user-unpublished": (user: IRTCUser) => void;
  "connection-state-change": (
    curState: RTCConnectionState,
    prevState: RTCConnectionState
  ) => void;
  "network-quality": (stats: IRTCNetworkQuality) => void;
  error: (error: IRTCError) => void;
}
```
