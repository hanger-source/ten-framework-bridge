# QWen 图片生成工具 (QWen Image Generate Tool)

这是一个基于TEN Framework的QWen图片生成工具扩展，可以根据文本描述生成高质量的图片。

## 功能特性

- 支持中英文提示词
- 可配置图片数量和尺寸
- 基于QWen的wan2.2-t2i-flash模型
- 异步图片生成和显示
- 支持多种图片尺寸

## 工具参数

### generate_image

**描述**: 当用户想要生成图片时非常有用。可以根据用户的描述生成高质量的图片。

**参数**:

- `prompt` (string, 必填): 正向提示词，用来描述生成图像中期望包含的元素和视觉特点。支持中英文，长度不超过800个字符。
- `n` (integer, 可选): 生成图片的数量。取值范围为1~4张，默认为1
- `size` (string, 可选): 输出图像的分辨率。默认值是1024*1024。支持的尺寸格式：1024*1024, 1024*1440, 1440*1024等。

**示例**:

```json
{
  "name": "generate_image",
  "arguments": {
    "prompt": "一间有着精致窗户的花店，漂亮的木质门，摆放着花朵",
    "n": 1,
    "size": "1024*1024"
  }
}
```

## 配置参数

在 `property.json` 中配置以下参数：

- `api_key`: QWen API密钥（必填）
- `model`: 图片生成模型，默认为"wan2.2-t2i-flash"
- `size`: 默认图片尺寸，默认为"1024\*1024"
- `n`: 默认生成图片数量，默认为1
- `proxy_url`: 代理URL（可选）

## 使用方法

1. 配置QWen API密钥和其他参数
2. 在TEN Framework中注册此工具
3. 通过LLM调用工具生成图片
4. 图片将自动显示在聊天界面中

## 技术实现

- 使用QWen的ImageSynthesis API
- 支持异步任务创建和等待
- 自动处理图片URL获取和显示
- 错误处理和日志记录

## 注意事项

- 确保QWen API密钥有效且有足够的配额
- 图片生成可能需要一些时间，请耐心等待
- 生成的图片URL会在聊天界面中显示
- 支持QWen wan2.2-t2i-flash模型的所有功能

## 依赖要求

- dashscope >= 1.23.3
- requests
